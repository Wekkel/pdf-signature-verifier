<Window x:Class="PdfSignatureVerifier.App.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:wv2="clr-namespace:Microsoft.Web.WebView2.Wpf;assembly=Microsoft.Web.WebView2.Wpf"
        mc:Ignorable="d"
        Title="Standalone PDF Signature Verifier" Height="700" Width="1200" WindowStartupLocation="CenterScreen">

    <!-- Hoofdlayout: een Grid met 2 kolommen -->
    <Grid Margin="10">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="400"/>
            <!-- Vaste breedte voor de resultaten -->
            <ColumnDefinition Width="*"/>
            <!-- De rest van de ruimte voor de PDF -->
        </Grid.ColumnDefinitions>

        <!-- Linker kolom: Bediening en Resultaten -->
        <DockPanel Grid.Column="0" Margin="0,0,10,0">
            <!-- 1. Knop bovenaan om een PDF te selecteren -->
            <Button Name="SelectPdfButton" DockPanel.Dock="Top" Content="Selecteer en Analyseer PDF" Height="40" FontSize="14" FontWeight="Bold" Click="SelectPdfButton_Click"/>

            <!-- 2. Statusbalk onderaan voor de Trust List -->

            <StatusBar DockPanel.Dock="Bottom" Background="#F0F0F0" MinHeight="40">
                <StatusBar.ContextMenu>
                    <ContextMenu>
                        <MenuItem Header="Kopieer volledige log" Click="CopyLog_Click"/>
                    </ContextMenu>
                </StatusBar.ContextMenu>

                <StatusBarItem>
                    <TextBlock Name="TrustListStatusText" 
                   Text="EU Trust List: Initialiseren..." 
                   Foreground="Gray"
                   TextWrapping="Wrap">
                        <TextBlock.ToolTip>
                            <ToolTip Content="{Binding Path=Text, RelativeSource={RelativeSource AncestorType=TextBlock}}"/>
                        </TextBlock.ToolTip>
                    </TextBlock>
                </StatusBarItem>

                <!-- Een onzichtbare TextBox die we alleen gebruiken om de log te kunnen kopiëren -->
                <TextBox Name="LogTextBox" Visibility="Collapsed"/>
            </StatusBar>

            <!-- 3. Resultaatpaneel (standaard onzichtbaar) -->
            <Border Name="ResultPanel" BorderThickness="2" CornerRadius="5" Padding="15" Margin="0,10,0,0" Visibility="Collapsed">
                <ScrollViewer VerticalScrollBarVisibility="Auto">
                    <StackPanel>
                        <TextBlock Name="ResultTitle" FontSize="22" FontWeight="Bold" Text="Analyse Resultaat" TextWrapping="Wrap"/>
                        <TextBlock Name="ResultFilename" TextWrapping="Wrap" Margin="0,10,0,0" Foreground="Gray"/>

                        <Separator Margin="0,15,0,15"/>

                        <TextBlock Name="ResultExplanation" FontSize="14" TextWrapping="Wrap" LineHeight="20"/>
                    </StackPanel>
                </ScrollViewer>
            </Border>
        </DockPanel>

        <!-- Rechter kolom: PDF Viewer -->
        <Border Grid.Column="1" BorderThickness="1" BorderBrush="LightGray">
            <wv2:WebView2 Name="PdfWebView" />
        </Border>
    </Grid>
</Window>